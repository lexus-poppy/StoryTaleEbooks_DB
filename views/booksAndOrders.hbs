<h1>Books And Orders</h1>

{{! READ Table }}
<table id="b-o-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Order ID</th>
      <th>Book Title</th>
      <th>Quantity</th>
      <th>Unit Cost</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each booksAndOrders}}
    <tr data-value="{{this.booksAndOrdersID}}">
      <td>{{this.booksAndOrdersID}}</td>
      <td>Order #{{this.orderID}}</td>
      <td>{{this.title}} ({{this.isbn}}</td>
      <td>{{this.qty}}</td>
      <td>${{this.cost}}</td>
      <td>
        <button type="button" onclick="deleteLineItem({{this.booksAndOrdersID}})">Remove</button>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

{{! CREATE Form }}
<h2>Add Book to Order</h2>
<form action="/add-book-to-order-form" method="POST">
  <label for="orderID">Order ID: </label>
  <select name="orderID" id="orderID" required>
    <option value="">Select an Order</option>
    {{#each orders}}
    <option value="{{this.orderID}}">Order #{{this.orderID}} ({{this.lastName}})</option>
    {{/each}}
  </select>

  <label for="isbn">Book: </label>
  <select name="isbn" id="isbn" required>
    <option value="">Select a Book</option>
    {{#each books}}
    <option value="{{this.isbn}}">{{this.title}}</option>
    {{/each}}
  </select>

  <label for="qty">Quantity: </label>
  <input type="number" name="qty" id="qty" min="1" required />

  <label for="cost">Price per Unit ($): </label>
  <input type="number" step="0.01" name="cost" id="cost" required />

  <input type="submit" value="Add to Order">
</form>

{{! UPDATE Form }}
<h2>Update Line Item Cost</h2>
<form id="update-line-item-form">
  <label for="update_booksAndOrdersID">Line Item ID: </label>
  <select name="update_booksAndOrdersID" id="update_booksAndOrdersID" required>
    <option value="" disabled selected>Select an ID</option>
    {{#each booksAndOrders}}
    <option value="{{this.booksAndOrdersID}}">ID: {{this.booksAndOrdersID}} (Order #{{this.orderID}})</option>
    {{/each}}
  </select>

  <label for="update_cost">New Unit Cost: </label>
  <input type="number" step="0.01" name="update_cost" id="update_cost" required />

  <input type="submit" value="Update Cost">
</form>

<script src="./public/update_books_orders.js"></script>
<script src="./public/delete_books_orders.js"></script>

{{!--
        Citation for use of AI Tools:
        Date: 02/08/2026
        Prompts used to generate handlebars script
        Write a handlebars script for CS340 OSU Project 3 for the BooksAndOrders Entity from the DDL Database (pasted in prompt)
        AI Source URL: https://gemini.google.com/
        Links to an external site.
--}}
